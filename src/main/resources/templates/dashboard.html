<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dashboard</title>
    <link rel='stylesheet' th:href='@{/static/css/awsomefont.all.min.css}'>
    <link rel="stylesheet" th:href="@{/static/css/bootstrap.min.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/static/css/style.css}" type="text/css">
</head>

<body>
<div th:replace="PageTemplate :: nav"></div>

<div class="container">
    <div class="rankedArticleSection">
        <h4>Trending on DH</h4>
        <div class="sideRenderSection"></div>
    </div>
    <div class="latestArticleSection">
        <h4>Latest article</h4>
        <div class="row flex-row-reverse">
            <div class="col-12 col-md-4 col-lg-6">
                <img class="rounded mx-auto img-fluid" src="data:image/png;base64,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" alt="Ads" draggable="false">
            </div>
            <div class="col-12 col-md-8 col-lg-6 renderSection"></div>
        </div>
    </div>
</div>

<script th:src="@{/static/js/jquery.min.js}"></script>
<script th:src="@{/static/js/bootstrap.min.js}"></script>
<script th:src="@{/static/js/moment-with-locales.min.js}"></script>
<script>
    let latestArticlePage = 0;

    const fetchRankedArticles = () => {
        return new Promise((resolve, reject) => {
            $.ajax({
                url: "/getDashboardByRank?page=0",
                method: "GET",
            }).done((data) => {
                resolve(data);
            }).fail(() => {
                reject();
            });
        });
    };

    const fetchLatestArticles = (page) => {
        return new Promise((resolve, reject) => {
            $.ajax({
                url: `/getDashboardLatest?page=${page}`,
                method: "GET",
            }).done((data) => {
                resolve(data);
            }).fail(() => {
                reject();
            });
        });
    };

    const getRankedTemplate = (num, writer, title, desc, date, view, articleId) => {
        const formattedDate = moment(date).locale('th');

        return `<div class="articleCard">
                    <div class="articleRank">0${num + 1}</div>
                    <div class="articleDetails">
                        <div class="articleWriter"><a href="/me">${writer}</a></div>
                        <div class="articleTitle"><a href="/article?id=${articleId}">${title}</a></div>
                        ${desc ? `<div class="articleDescription">${desc}</div>` : ''}
                        <div class="articleDate">${formattedDate.format('ll')}  ·  View ${view}</div>
                    </div>
                </div>`;
    };

    const getLatestTemplate = (writer, title, desc, date, view, thumbnail, articleId) => {
        const formattedDate = moment(date).locale('th');

        return `<div class="articleCard">
                    <div class="articleDetails">
                        <div class="articleWriter"><a href="/me">${writer}</a></div>
                        <div class="articleTitle"><a href="/article?id=${articleId}">${title}</a></div>
                        ${desc ? `<div class="articleDescription">${desc}</div>` : ''}
                        <div class="articleDate">${formattedDate.format('ll')}  ·  View ${view}</div>
                    </div>
                    ${thumbnail ? `<img src="${thumbnail}" class="rounded mx-auto" draggable="false" style="height: 120px;width: 120px;object-fit: cover;">` : ''}
                </div>`;
    };

    const renderRankedArticles = (articles) => {
        const rankedSection = $(".rankedArticleSection > .sideRenderSection");
        for (let i = 0; i < articles.length; i++) {
            const article = articles[i];
            const rendered = getRankedTemplate(i, article['writerName'],
                article['title'], article['description'], article['publishDate'],
                article['visitorCount'], article['articleId']);
            rankedSection.append(rendered);
        }
    };

    const renderLatestArticles = (articles) => {
        const latestSection = $(".latestArticleSection > .row > .renderSection");
        for (let i = 0; i < articles.length; i++) {
            const article = articles[i];
            const rendered = getLatestTemplate(article['writerName'],
                article['title'], article['description'], article['publishDate'],
                article['visitorCount'], article['thumbnail'], article['articleId']);
            latestSection.append(rendered);
        }
    };

    const showRankedArticles = async () => {
        let rankedArticles;
        try {
            rankedArticles = await fetchRankedArticles();
        } catch (e) {
            console.info("Couldn't fetch data from backend or it's just empty");
            return false;
        }

        renderRankedArticles(rankedArticles['articles']);
        return true;
    };

    const showCurrentPageLatestArticles = async () => {
        let latestArticle;
        try {
            latestArticle = await fetchLatestArticles(latestArticlePage);
        } catch (e) {
            console.info("Couldn't fetch data from backend or it's just empty");
        }

        if (latestArticle['articles'].length === 0) {
            return false;
        }
        latestArticlePage++;

        renderLatestArticles(latestArticle['articles']);
        return true;
    };

    $(() => {
        showRankedArticles();
        showCurrentPageLatestArticles().then(async () => {
            while (window.innerHeight >= document.body.scrollHeight) {
                if (!(await showCurrentPageLatestArticles())) {
                    break;
                }
            }
        });
    });

    $(window).scroll(async () => {
        if ($(document).height() - $(this).height() === $(this).scrollTop()) {
            await showCurrentPageLatestArticles();
        }
    });
</script>
</body>
</html>